var fs=require("fs"),Q=require("q"),vaultServerUrl="http://localhost/visualvault4_0_0/",customerAlias="VaultTest",databaseAlias="Main",apiKey="f1723c26-d4f0-463e-9d16-da5e349119a8",developerId="f1723c26-d4f0-463e-9d16-da5e349119a8",developerSecret="hTxqwYYjnhIbl3IRmSlRYSZOYhWJwFdxX75CboH2qpc=",clientLibrary=require("./vvRestApi"),vvAuthorize=new clientLibrary.authorize;Q.when(vvAuthorize.getVaultApi(apiKey,developerId,developerSecret,vaultServerUrl,customerAlias,databaseAlias)).then(function(n){var t,r,e,u,f;console.log("getVaultApi succeeded"),t=n;var i={recipients:"",ccrecipients:"",subject:"",body:""};i.recipients="test@visualvault.com",i.ccrecipients="test@visualvault.com",i.subject="Test Subject",i.body="Test Body",r=null,t.email.postEmails(r,i),e=t.library.getFolders(null),u={q:"name eq 'My site'",fields:"id, name"},t.sites.getSites(u),f={q:null,fields:"id, name"},t.sites.getSites(f)}).fail(function(n){console.log("Supervisor: Error response: "+n.message)})